title: "BrkRaw Map File"
description: "Per-key mapping rules referenced by __meta__.map_file."
type: object
additionalProperties:
  oneOf:
    - $ref: "#/$defs/Rule"
    - type: array
      items:
        $ref: "#/$defs/Rule"

$defs:
  Rule:
    type: object
    description: "Mapping rule for a spec output key."
    additionalProperties: false
    properties:
      type:
        type: string
        enum: ["mapping", "const"]
      values:
        type: object
        description: "Lookup mapping table."
        additionalProperties: true
      value:
        description: "Constant value for type=const."
      default:
        description: "Default value when no mapping matches."
      override:
        type: boolean
      when:
        type: object
        description: "Conditions evaluated against mapped values."
        additionalProperties: true
